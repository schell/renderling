digraph my_graph {
    subgraph cluster_0 {
        label="batch_0";

        node_0;
        node_1;
    }

    subgraph cluster_1 {
        label="batch_1";

        node_3;
        node_2;
    }

    subgraph cluster_2 {
        label="batch_2";

        node_4;
    }

    subgraph cluster_3 {
        label="batch_3";

        node_5;
    }

    subgraph cluster_4 {
        label="batch_4";

        node_6;
    }

    node_0[label="create_frame"];
    node_1[label="scene_update"];
    node_2[label="clear_frame_and_depth"];
    node_3[label="scene_cull"];
    node_4[label="scene_render"];
    node_5[label="copy_frame_to_post"];
    node_6[label="present"];
    ghost_node[label="required_resources"][style="dotted"];
    ghost_node -> node_2[label="renderling::renderer::BackgroundColor"][color="limegreen"];
    ghost_node -> node_1[label="renderling::scene::Scene"][color="mediumblue"];
    ghost_node -> node_3[label="renderling::scene::Scene"][color="limegreen"];
    ghost_node -> node_4[label="renderling::scene::Scene"][color="limegreen"];
    ghost_node -> node_3[label="renderling::scene::SceneComputeCullPipeline"][color="limegreen"];
    ghost_node -> node_5[label="renderling::renderer::ScreenSize"][color="limegreen"];
    ghost_node -> node_2[label="renderling::renderer::DepthTexture"][color="limegreen"];
    ghost_node -> node_4[label="renderling::renderer::DepthTexture"][color="limegreen"];
    ghost_node -> node_2[label="renderling::renderer::Device"][color="limegreen"];
    ghost_node -> node_3[label="renderling::renderer::Device"][color="limegreen"];
    ghost_node -> node_4[label="renderling::renderer::Device"][color="limegreen"];
    ghost_node -> node_5[label="renderling::renderer::Device"][color="limegreen"];
    ghost_node -> node_4[label="renderling::scene::SceneRenderPipeline"][color="limegreen"];
    ghost_node -> node_0[label="renderling::state::RenderTarget"][color="limegreen"];
    ghost_node -> node_1[label="renderling::renderer::Queue"][color="limegreen"];
    ghost_node -> node_2[label="renderling::renderer::Queue"][color="limegreen"];
    ghost_node -> node_3[label="renderling::renderer::Queue"][color="limegreen"];
    ghost_node -> node_4[label="renderling::renderer::Queue"][color="limegreen"];
    ghost_node -> node_5[label="renderling::renderer::Queue"][color="limegreen"];
    node_0 -> node_5[label="renderling::state::Frame"][color="limegreen"];
    node_0 -> node_6[label="renderling::state::Frame"][color="tomato"];
    node_0 -> node_2[label="renderling::node::FrameTextureView"][color="limegreen"];
    node_0 -> node_4[label="renderling::node::FrameTextureView"][color="limegreen"];
}
